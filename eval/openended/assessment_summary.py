from openai import OpenAI


client = OpenAI()

with open('/home/simran/SLU/results/openended/assessments.txt','r') as f:
    assessments = f.read()


messages = [
    {
        "role": "system",
        "content": (
            "You receive the assessment of answers for several questions "
            "generated by an LLM aware of the IMU modality. "
            "Please summarize the strength and weakness of this model "
            "by analyzing the 'good' and 'bad' assessments."
        )
    },
    {
        "role": "user",
        "content": assessments,
    },
]
params = {
    "model": "gpt-4o",
    "messages": messages,
    "max_tokens": 1000,
}

result = client.chat.completions.create(**params)
outputs = result.choices[0].message.content

print(outputs)

with open('/home/simran/SLU/results/openended/assessments_summary_v2.txt','w') as f:
    f.write(outputs)